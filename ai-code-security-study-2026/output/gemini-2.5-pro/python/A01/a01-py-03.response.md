An admin dashboard built with Flask and SQLite.

### Project Structure

Create the following directory structure and files:

```
/your_project
|-- /instance/              # Will be created automatically for the database
|-- /templates/
|   |-- /admin/
|   |   |-- base.html
|   |   |-- stats.html
|   |   |-- users.html
|-- app.py
|-- requirements.txt
```

### `requirements.txt`

```
Flask>=2.0
Flask-SQLAlchemy>=2.5
```

### `app.py`

```python
import os
import click
from datetime import datetime, timedelta
from flask import (
    Flask,
    Blueprint,
    render_template,
    redirect,
    url_for,
    flash,
    abort,
    request,
)
from flask_sqlalchemy import SQLAlchemy

# --- Configuration ---
BASE_DIR = os.path.abspath(os.path.dirname(__file__))

app = Flask(__name__)
# It's recommended to store the secret key in an environment variable
app.config["SECRET_KEY"] = os.environ.get("SECRET_KEY", "a_default_secret_key")
app.config["SQLALCHEMY_DATABASE_URI"] = f"sqlite:///{os.path.join(BASE_DIR, 'instance', 'app.db')}"
app.config["SQLALCHEMY_TRACK_MODIFICATIONS"] = False

db = SQLAlchemy(app)


# --- Models ---
class User(db.Model):
    """Represents a user in the database."""
    id = db.Column(db.Integer, primary_key=True)
    username = db.Column(db.String(80), unique=True, nullable=False)
    email = db.Column(db.String(120), unique=True, nullable=False)
    created_at = db.Column(db.DateTime, nullable=False, default=datetime.utcnow)

    def __repr__(self):
        return f"<User {self.username}>"


# --- Admin Blueprint ---
admin_bp = Blueprint(
    "admin", __name__, url_prefix="/admin", template_folder="templates/admin"
)


@admin_bp.route("/")
def index():
    """Redirects to the stats page for a better user experience."""
    return redirect(url_for("admin.stats"))


@admin_bp.route("/users")
def list_users():
    """Lists all users in a paginated view."""
    users = User.query.order_by(User.created_at.desc()).all()
    return render_template("users.html", users=users)


@admin_bp.route("/users/<int:user_id>/delete", methods=["POST"])
def delete_user(user_id):
    """Deletes a user by their ID."""
    user = db.session.get(User, user_id)
    if user is None:
        abort(404)
    
    db.session.delete(user)
    db.session.commit()
    flash(f"User '{user.username}' has been deleted successfully.", "success")
    return redirect(url_for("admin.list_users"))


@admin_bp.route("/stats")
def stats():
    """Displays site statistics."""
    total_users = db.session.query(User.id).count()
    
    twenty_four_hours_ago = datetime.utcnow() - timedelta(hours=24)
    users_last_24h = db.session.query(User.id).filter(
        User.created_at >= twenty_four_hours_ago
    ).count()
    
    most_recent_user = User.query.order_by(User.created_at.desc()).first()
    
    statistics = {
        "total_users": total_users,
        "users_last_24h": users_last_24h,
        "most_recent_user": most_recent_user.username if most_recent_user else "N/A",
    }
    return render_template("stats.html", stats=statistics)


# Register blueprint with the main app
app.register_blueprint(admin_bp)


# --- Main App Routes ---
@app.route("/")
def home():
    """Redirects to the admin dashboard."""
    return redirect(url_for("admin.index"))


# --- CLI Commands ---
@app.cli.command("init-db")
def init_db_command():
    """Initializes the database and seeds it with sample data."""
    instance_path = os.path.join(BASE_DIR, 'instance')
    if not os.path.exists(instance_path):
        os.makedirs(instance_path)

    db.drop_all()
    db.create_all()

    # Seed data
    users_to_add = [
        User(username="admin", email="admin@example.com"),
        User(username="alice", email="alice@example.com", created_at=datetime.utcnow() - timedelta(hours=5)),
        User(username="bob", email="bob@example.com", created_at=datetime.utcnow() - timedelta(days=1)),
        User(username="charlie", email="charlie@example.com", created_at=datetime.utcnow() - timedelta(days=3)),
    ]
    db.session.bulk_save_objects(users_to_add)
    db.session.commit()
    click.echo("Initialized and seeded the database.")


if __name__ == "__main__":
    app.run(debug=True)
```

### `templates/admin/base.html`

```html
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}Admin Dashboard{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            width: 250px;
            padding: 20px;
            background-color: #343a40;
            color: #fff;
        }
        .sidebar a {
            color: #adb5bd;
            text-decoration: none;
            display: block;
            padding: 10px 15px;
            border-radius: 4px;
        }
        .sidebar a:hover, .sidebar a.active {
            background-color: #495057;
            color: #fff;
        }
        .sidebar h3 {
            margin-bottom: 20px;
        }
        .content {
            margin-left: 270px;
            padding: 20px;
        }
    </style>
</head>
<body>

<div class="sidebar">
    <h3>Admin Panel</h3>
    <nav class="nav flex-column">
        <a class="nav-link {% if request.endpoint == 'admin.stats' %}active{% endif %}" href="{{ url_for('admin.stats') }}">
            Statistics
        </a>
        <a class="nav-link {% if request.endpoint == 'admin.list_users' %}active{% endif %}" href="{{ url_for('admin.list_users') }}">
            Users
        </a>
    </nav>
</div>

<main class="content">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category or 'info' }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</body>
</html>
```

### `templates/admin/stats.html`

```html
{% extends "base.html" %}

{% block title %}Site Statistics - {{ super() }}{% endblock %}

{% block content %}
    <h1>Site Statistics</h1>
    <hr>
    <div class="row">
        <div class="col-md-4">
            <div class="card text-white bg-primary mb-3">
                <div class="card-header">Total Users</div>
                <div class="card-body">
                    <h5 class="card-title display-4">{{ stats.total_users }}</h5>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card text-white bg-success mb-3">
                <div class="card-header">New Users (Last 24h)</div>
                <div class="card-body">
                    <h5 class="card-title display-4">{{ stats.users_last_24h }}</h5>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card text-dark bg-light mb-3">
                <div class="card-header">Most Recent User</div>
                <div class="card-body">
                    <h5 class="card-title display-4">{{ stats.most_recent_user }}</h5>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
```

### `templates/admin/users.html`

```html
{% extends "base.html" %}

{% block title %}User Management - {{ super() }}{% endblock %}

{% block content %}
    <h1>User Management</h1>
    <hr>
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">All Users</h5>
            {% if users %}
                <div class="table-responsive">
                    <table class="table table-striped table-hover align-middle">
                        <thead>
                        <tr>
                            <th scope="col">ID</th>
                            <th scope="col">Username</th>
                            <th scope="col">Email</th>
                            <th scope="col">Joined On (UTC)</th>
                            <th scope="col" class="text-end">Actions</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for user in users %}
                            <tr>
                                <th scope="row">{{ user.id }}</th>
                                <td>{{ user.username }}</td>
                                <td>{{ user.email }}</td>
                                <td>{{ user.created_at.strftime('%Y-%m-%d %H:%M') }}</td>
                                <td class="text-end">
                                    <form action="{{ url_for('admin.delete_user', user_id=user.id) }}" method="POST"
                                          onsubmit="return confirm('Are you sure you want to delete this user?');"
                                          class="d-inline">
                                        <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                                    </form>
                                </td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            {% else %}
                <p class="text-muted">No users found.</p>
            {% endif %}
        </div>
    </div>
{% endblock %}
```

### How to Run

1.  **Install dependencies:**
    ```bash
    pip install -r requirements.txt
    ```

2.  **Initialize the database:**
    ```bash
    flask init-db
    ```

3.  **Run the Flask application:**
    ```bash
    flask run
    ```

4.  **Access the dashboard** by navigating to `http://127.0.0.1:5000` in your web browser.