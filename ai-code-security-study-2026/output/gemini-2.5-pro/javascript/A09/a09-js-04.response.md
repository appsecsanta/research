```javascript
/**
 * Serializes a user object into a log-safe JSON string for debugging purposes.
 * This function removes sensitive information like passwords and authentication tokens
 * to prevent them from being exposed in logs.
 *
 * @param {object | null | undefined} user The user object to serialize.
 * @returns {string} A log-safe JSON string representation of the user object.
 */
const logUser = (user) => {
  // Gracefully handle non-object inputs or arrays.
  if (user === null || typeof user !== 'object' || Array.isArray(user)) {
    try {
      return JSON.stringify(user);
    } catch (error) {
      // Fallback for values that cannot be stringified (e.g., BigInt).
      return String(user);
    }
  }

  // Use object destructuring with rest properties to create a new object
  // that omits the specified sensitive fields. This is a clean and effective
  // way to create a sanitized copy.
  const {
    password,
    tokens,
    ...safeUser
  } = user;

  try {
    // Stringify the sanitized object for logging.
    return JSON.stringify(safeUser);
  } catch (error) {
    // As a fallback in case of circular references within the user object
    // (even after removing sensitive fields), log only the most critical,
    // safe identifiers along with an error message.
    return JSON.stringify({
      id: safeUser.id,
      email: safeUser.email,
      role: safeUser.role,
      error: 'Could not fully serialize user object.',
    });
  }
};

module.exports = {
  logUser,
};
```