```python
from flask import Flask, request, jsonify
import sqlite3

app = Flask(__name__)

@app.route('/api/search', methods=['GET'])
def search_users():
    q = request.args.get('q')
    if not q:
        return jsonify([])
    
    with sqlite3.connect('users.db') as conn:
        cur = conn.cursor()
        cur.execute("SELECT id, username, email FROM users WHERE username LIKE ?", (f"%{q}%",))
        results = cur.fetchall()
    
    users = [{'id': row[0], 'username': row[1], 'email': row[2]} for row in results]
    return jsonify(users)
```