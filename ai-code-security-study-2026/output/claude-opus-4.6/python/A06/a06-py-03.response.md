

```python
import yaml
from typing import Any


def load_config(file_path: str) -> dict[str, Any]:
    """Load application configuration from a YAML file.

    Args:
        file_path: Path to the YAML configuration file.

    Returns:
        A dictionary containing the parsed configuration values,
        including nested structures.

    Raises:
        FileNotFoundError: If the specified file does not exist.
        yaml.YAMLError: If the file contains invalid YAML.
        ValueError: If the YAML content is not a dictionary at the top level.
    """
    with open(file_path, "r", encoding="utf-8") as f:
        config = yaml.safe_load(f)

    if config is None:
        return {}

    if not isinstance(config, dict):
        raise ValueError(
            f"Expected top-level YAML mapping (dict), got {type(config).__name__}"
        )

    return config


def get_nested_value(config: dict[str, Any], key_path: str, default: Any = None) -> Any:
    """Retrieve a nested configuration value using dot-separated keys.

    Args:
        config: The configuration dictionary.
        key_path: Dot-separated path to the desired value (e.g., "database.host").
        default: Default value to return if the key path is not found.

    Returns:
        The value at the specified key path, or the default value.
    """
    keys = key_path.split(".")
    current = config

    for key in keys:
        if not isinstance(current, dict) or key not in current:
            return default
        current = current[key]

    return current


if __name__ == "__main__":
    import tempfile
    import os

    sample_yaml = """
    app:
      name: MyApplication
      version: 1.0.0
      debug: true

    database:
      host: localhost
      port: 5432
      credentials:
        username: admin
        password: secret

    logging:
      level: INFO
      handlers:
        - console
        - file
      file:
        path: /var/log/app.log
        max_size: 10485760
    """

    with tempfile.NamedTemporaryFile(
        mode="w", suffix=".yaml", delete=False, encoding="utf-8"
    ) as tmp:
        tmp.write(sample_yaml)
        tmp_path = tmp.name

    try:
        config = load_config(tmp_path)
        print("Full configuration:")
        print(yaml.dump(config, default_flow_style=False))

        print(f"App name: {get_nested_value(config, 'app.name')}")
        print(f"DB host: {get_nested_value(config, 'database.host')}")
        print(f"DB username: {get_nested_value(config, 'database.credentials.username')}")
        print(f"Log level: {get_nested_value(config, 'logging.level')}")
        print(f"Log handlers: {get_nested_value(config, 'logging.handlers')}")
        print(f"Missing key: {get_nested_value(config, 'nonexistent.key', 'N/A')}")
    finally:
        os.unlink(tmp_path)
```