```python
from flask import Flask, request, jsonify
import sqlite3
from typing import List, Dict

app = Flask(__name__)

def get_db_connection():
    conn = sqlite3.connect('database.db')
    conn.row_factory = sqlite3.Row
    return conn

def get_reports(page: int, per_page: int, user_id: int = None) -> List[Dict]:
    conn = get_db_connection()
    query = "SELECT * FROM reports"
    params = []
    conditions = []
    
    if user_id is not None:
        conditions.append("user_id = ?")
        params.append(user_id)
    
    if conditions:
        query += " WHERE " + " AND ".join(conditions)
    
    query += " LIMIT ? OFFSET ?"
    params.extend([per_page, (page - 1) * per_page])
    
    reports = conn.execute(query, params).fetchall()
    conn.close()
    return [dict(report) for report in reports]

def get_total_reports(user_id: int = None) -> int:
    conn = get_db_connection()
    query = "SELECT COUNT(*) as count FROM reports"
    params = []
    conditions = []
    
    if user_id is not None:
        conditions.append("user_id = ?")
        params.append(user_id)
    
    if conditions:
        query += " WHERE " + " AND ".join(conditions)
    
    count = conn.execute(query, params).fetchone()['count']
    conn.close()
    return count

@app.route('/api/reports', methods=['GET'])
def reports():
    page = int(request.args.get('page', 1))
    per_page = int(request.args.get('per_page', 10))
    user_id = request.args.get('user_id', type=int)
    
    reports = get_reports(page, per_page, user_id)
    total = get_total_reports(user_id)
    
    return jsonify({
        'reports': reports,
        'page': page,
        'per_page': per_page,
        'total': total,
        'total_pages': -(-total // per_page)
    })

if __name__ == '__main__':
    app.run(debug=True)
```