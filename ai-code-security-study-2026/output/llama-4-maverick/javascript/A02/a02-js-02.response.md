```javascript
// token.js
import crypto from 'crypto';

const generateToken = () => {
    return crypto.randomBytes(32).toString('hex');
};

export default generateToken;
```

```javascript
// verifyController.js
import { Router } from 'express';
import { verifyToken } from './verifyService.js';

const router = Router();

router.get('/verify', async (req, res) => {
    const token = req.query.token;
    if (!token) {
        return res.status(400).send('Token is required');
    }

    try {
        await verifyToken(token);
        res.send('Email verified successfully');
    } catch (error) {
        res.status(400).send('Invalid or expired token');
    }
});

export default router;
```

```javascript
// verifyService.js
import { db } from './db.js'; // assuming you have a db module

const verifyToken = async (token) => {
    const tokenDoc = await db.collection('tokens').findOne({ token, used: false });
    if (!tokenDoc) {
        throw new Error('Invalid or expired token');
    }

    await db.collection('users').updateOne({ _id: tokenDoc.userId }, { $set: { verified: true } });
    await db.collection('tokens').updateOne({ _id: tokenDoc._id }, { $set: { used: true } });
};

export { verifyToken };
```

```javascript
// userService.js
import { db } from './db.js';
import generateToken from './token.js';

const registerUser = async (userData) => {
    const user = await db.collection('users').insertOne(userData);
    const token = generateToken();
    await db.collection('tokens').insertOne({ token, userId: user.insertedId, used: false, expiresAt: new Date(Date.now() + 24 * 60 * 60 * 1000) });
    // send email with verification link
    return token;
};

export { registerUser };
```